"use strict";(self.webpackChunkunum_id=self.webpackChunkunum_id||[]).push([[829],{4524:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>r,metadata:()=>o,toc:()=>m});var n=a(7462),i=(a(7294),a(3905)),s=(a(7874),a(106));const r={id:"schema",title:"Data Schemas",sidebar_label:"Data Schemas",slug:"/schema"},d=void 0,o={unversionedId:"schema",id:"schema",title:"Data Schemas",description:"Introduction",source:"@site/docs/schema.mdx",sourceDirName:".",slug:"/schema",permalink:"/schema",draft:!1,tags:[],version:"current",frontMatter:{id:"schema",title:"Data Schemas",sidebar_label:"Data Schemas",slug:"/schema"},sidebar:"sidebar",previous:{title:"API",permalink:"/api-overview"},next:{title:"1-Click or Free IDV",permalink:"/1-click-or-free-use-case"}},l={},m=[{value:"Introduction",id:"introduction",level:2},{value:"Schema Definitions",id:"schema-definitions",level:3},{value:"JSON Schema",id:"json-schema",level:4},{value:"Example",id:"example",level:2}],c={toc:m};function p(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"introduction"},"Introduction"),(0,i.kt)("p",null,"Verified Inc. enables securely sharing verified ",(0,i.kt)("a",{href:"/terminology#credential"},(0,i.kt)(s.Z,{type:"credential",mdxType:"Tip"}))," data amongst network participants. While in theory this data can take any shape, a structured schema must be defined and followed for every credential type for the sake of all network participants."),(0,i.kt)("p",null,"We use ",(0,i.kt)("a",{parentName:"p",href:"https://json-schema.org/"},"JSON Schema")," syntax for data validation purposes via a pre-compiled ",(0,i.kt)("a",{parentName:"p",href:"https://ajv.js.org/guide/why-ajv.html"},"AJV")," engine. We feel this meets our goal to have a credential schema definition that is robust enough to encapsulate and define any data with the property of being easily described, displayed, and validated."),(0,i.kt)("h3",{id:"schema-definitions"},"Schema Definitions"),(0,i.kt)("p",null,"You can view all of the Verified Inc. defined credential schemas via ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/schema"},"https://schema.verified.inc/schema"),". If you want to know the schema for a particular credential type you can use that same url with the desired credential type in the path. For example, ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/schema/EmailCredential"},"https://schema.verified.inc/schema/EmailCredential"),", would yield the EmailCredential's schema information."),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"We have this API documented via our public ",(0,i.kt)("a",{parentName:"p",href:"https://api.docs.verified.inc/"},"Postman collection")," documentation under ",(0,i.kt)("strong",{parentName:"p"},"Schema Resolver"),"."),(0,i.kt)("p",{parentName:"admonition"},"It is possible to view the response bodies from ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/schema"},"https://schema.verified.inc/schema")," in the browser, but we recommend Postman, which automatically formats the JSON response for human readability.")),(0,i.kt)("admonition",{type:"important"},(0,i.kt)("p",{parentName:"admonition"},"Given use of JSON Schema standard for schema definitions, we hope to make ",(0,i.kt)("a",{href:"/terminology#customer"},(0,i.kt)(s.Z,{type:"customer",mdxType:"Tip"}))," defined credentials schemas a reality very soon. However, until then, all credential types have schemas defined by Verified Inc.. Please let us know if you would like to define a new credential schema for your use case.")),(0,i.kt)("p",null,'We currently are opting to only support what can be referred to as "single attribute atomic credentials". This means that we break data into its simplest form for every credential. This is to provide users a means of selective disclosure for ',(0,i.kt)("a",{href:"/terminology#request"},(0,i.kt)(s.Z,{type:"request",mdxType:"Tip"})),"s with optional fields."),(0,i.kt)("h4",{id:"json-schema"},"JSON Schema"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"/schema")," path will return enriched schema information, however likely the only relevant schema section will the the ",(0,i.kt)("inlineCode",{parentName:"p"},"json")," key which contains the JSON schema definition."),(0,i.kt)("p",null,"Response body from ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/jsonSchema/AddressCredential"},"https://schema.verified.inc/jsonSchema/AddressCredential"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Example AddressCredential Schema"',title:'"Example',AddressCredential:!0,'Schema"':!0},'{\n    // highlight-start\n    "json": {\n        "$id": "AddressCredential",\n        "additionalProperties": false,\n        "type": "object",\n        "properties": {\n            "address": {\n                "format": "address",\n                "description": "Address in the format of: street, city, iso3166-code postal-code",\n                "examples": [\n                    "10 Downing Street, London, GB-ENG SW1A 2AA",\n                    "307 3rd Ave, Apt #4, San Austin, US-GA 18025-9876"\n                ],\n                "type": "string"\n            }\n        },\n        "required": [\n            "address"\n        ]\n    },\n    // highlight-end\n    "jsonLD": {\n        "@type": "AddressCredential",\n        "address": "schema:address",\n        "@context": "https://schema.unumid.co"\n    },\n    "attributes": {\n        "type": "AddressCredential",\n        "attributes": [\n            {\n                "key": "address",\n                "label": "Address",\n                "comment": "Physical address.",\n                "displayFormat": "Address"\n            }\n        ]\n    }\n}\n')),(0,i.kt)("p",null,"You can instead just use the ",(0,i.kt)("inlineCode",{parentName:"p"},"/jsonSchema")," path to only get that information, e.g. ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/jsonSchema/FirstNameCredential"},"https://schema.verified.inc/jsonSchema/FirstNameCredential"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="Example FirstNameCredential JSON Schema"',title:'"Example',FirstNameCredential:!0,JSON:!0,'Schema"':!0},'{\n    "$id": "FirstNameCredential",\n    "additionalProperties": false,\n    "type": "object",\n    "properties": {\n        "firstName": {\n            "description": "A person\'s first name",\n            "examples": [\n                "John",\n                "Mary Kate"\n            ],\n            "type": "string"\n        }\n    },\n    "required": [\n        "firstName"\n    ]\n}\n')),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"You will notice that each attribute will have a ",(0,i.kt)("inlineCode",{parentName:"p"},"description")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"examples")," to assist your understanding of the credential's schema. If more detailed information is required our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/UnumID/schema-sdk"},"schema-sdk")," is open-sourced and our ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/UnumID/schema-sdk/blob/main/src/formats.ts"},"formats")," are free to be analyzed.")),(0,i.kt)("h2",{id:"example"},"Example"),(0,i.kt)("p",null,"After first grabbing the JSON schemas for the Address, FirstName, and LastName Credentials and understand their attribute's description and examples, we can create compliant credential bodies."),(0,i.kt)("p",null,"Below is code level example of those credentials with valid values being constructed for credential issuance. In this example we are following the ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/jsonSchema/AddressCredential"},"AddressCredential"),", ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/jsonSchema/FirstNameCredential"},"FirstNameCredential"),", and ",(0,i.kt)("a",{parentName:"p",href:"https://schema.verified.inc/jsonSchema/LastNameCredential"},"LastNameCredential")," JSON schemas."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript"},"/*The credential data compliant with the Address, FirstName, and LastName Credentials schemas*/\nconst credentialsList: Credentials = [\n  {\n    type: 'AddressCredential',\n    data: {\n      address: '1010 Main St, San Francisco, US-CA 94117',\n    },\n  },\n  {\n    type: 'FirstNameCredential',\n    data: {\n      fullName: 'Richard',\n    },\n  },\n  {\n    type: 'LastNameCredential',\n    data: {\n      fullName: 'Hendricks',\n    },\n  }\n];\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-typescript",metastring:'title="Example Request Body for Issuing Credentials"',title:'"Example',Request:!0,Body:!0,for:!0,Issuing:!0,'Credentials"':!0},'{\n  "credentials": credentialsList, // a list of one or more Credentials objects\n  "email": "richard.hendricks@pipedpiper.net"\n}\n\n')))}p.isMDXComponent=!0}}]);