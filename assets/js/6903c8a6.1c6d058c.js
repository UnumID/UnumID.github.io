"use strict";(self.webpackChunkunum_id=self.webpackChunkunum_id||[]).push([[215],{5162:(e,t,n)=>{n.d(t,{Z:()=>i});var a=n(7294),l=n(6010);const r="tabItem_Ymn6";function i(e){let{children:t,hidden:n,className:i}=e;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(r,i),hidden:n},t)}},4866:(e,t,n)=>{n.d(t,{Z:()=>D});var a=n(7462),l=n(7294),r=n(6010),i=n(2466),o=n(6775),s=n(1980),u=n(7392),d=n(12);function c(e){return function(e){return l.Children.map(e,(e=>{if((0,l.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:l}}=e;return{value:t,label:n,attributes:a,default:l}}))}function p(e){const{values:t,children:n}=e;return(0,l.useMemo)((()=>{const e=t??c(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function m(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,o.k6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,s._X)(r),(0,l.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(a.location.search);t.set(r,e),a.replace({...a.location,search:t.toString()})}),[r,a])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,r=p(e),[i,o]=(0,l.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!m({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[s,u]=h({queryString:n,groupId:a}),[c,b]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,r]=(0,d.Nk)(n);return[a,(0,l.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:a}),g=(()=>{const e=s??c;return m({value:e,tabValues:r})?e:null})();(0,l.useLayoutEffect)((()=>{g&&o(g)}),[g]);return{selectedValue:i,selectValue:(0,l.useCallback)((e=>{if(!m({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),b(e)}),[u,b,r]),tabValues:r}}var g=n(2389);const f="tabList__CuJ",k="tabItem_LNqP";function w(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:u}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.o5)(),p=e=>{const t=e.currentTarget,n=d.indexOf(t),a=u[n].value;a!==o&&(c(t),s(a))},m=e=>{var t;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}null==(t=n)||t.focus()};return l.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.Z)("tabs",{"tabs--block":n},t)},u.map((e=>{let{value:t,label:n,attributes:i}=e;return l.createElement("li",(0,a.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>d.push(e),onKeyDown:m,onClick:p},i,{className:(0,r.Z)("tabs__item",k,null==i?void 0:i.className,{"tabs__item--active":o===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:a}=e;if(n=Array.isArray(n)?n:[n],t){const e=n.find((e=>e.props.value===a));return e?(0,l.cloneElement)(e,{className:"margin-top--md"}):null}return l.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,l.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function y(e){const t=b(e);return l.createElement("div",{className:(0,r.Z)("tabs-container",f)},l.createElement(w,(0,a.Z)({},e,t)),l.createElement(v,(0,a.Z)({},e,t)))}function D(e){const t=(0,g.Z)();return l.createElement(y,(0,a.Z)({key:String(t)},e))}},8811:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>u});var a=n(7462),l=(n(7294),n(3905));n(4866),n(5162),n(7874),n(106);const r={id:"mobile-webwallet-sdk-flutter",title:"Mobile WebWallet SDK - Flutter",sidebar_label:"Flutter WebWallet",slug:"/mobile-webwallet-sdk-flutter"},i=void 0,o={unversionedId:"mobile-webwallet-sdk-flutter",id:"mobile-webwallet-sdk-flutter",title:"Mobile WebWallet SDK - Flutter",description:"This is a lightweight, fully native SDK that allows a host app to perform web wallet authentication functionality in a in-app browser.",source:"@site/docs/mobile-webwallet-sdk-flutter.mdx",sourceDirName:".",slug:"/mobile-webwallet-sdk-flutter",permalink:"/mobile-webwallet-sdk-flutter",draft:!1,tags:[],version:"current",frontMatter:{id:"mobile-webwallet-sdk-flutter",title:"Mobile WebWallet SDK - Flutter",sidebar_label:"Flutter WebWallet",slug:"/mobile-webwallet-sdk-flutter"}},s={},u=[{value:"Overview",id:"overview",level:2},{value:"Minimum Requirements",id:"minimum-requirements",level:3},{value:"Required Permissions",id:"required-permissions",level:3},{value:"Setup",id:"setup",level:2},{value:"Installation",id:"installation",level:3},{value:"Usage",id:"usage",level:2},{value:"SDK Initialization",id:"sdk-initialization",level:3},{value:"SDK Handle deeplink",id:"sdk-handle-deeplink",level:3},{value:"SDK Logging",id:"sdk-logging",level:3},{value:"An example of passing parameters",id:"an-example-of-passing-parameters",level:3}],d={toc:u};function c(e){let{components:t,...n}=e;return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"This is a lightweight, fully native SDK that allows a host app to perform web wallet authentication functionality in a in-app browser. "),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Before you begin:")," You need to be registered as Verified Inc. customer to use this SDK."),(0,l.kt)("h2",{id:"overview"},"Overview"),(0,l.kt)("h3",{id:"minimum-requirements"},"Minimum Requirements"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Android 6.0 (Marshmallow) and above")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"iOS 15 and above")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"English language")," (internationalization coming soon)")),(0,l.kt)("h3",{id:"required-permissions"},"Required Permissions"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Camera:")," requested when you show the QR code scanner"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Biometrics/Passcode:")," requested when you call ",(0,l.kt)("inlineCode",{parentName:"li"},"initialize()"))),(0,l.kt)("p",null,"Permissions and any permission rational messages should be updated in the individual native sections of the host application."),(0,l.kt)("h2",{id:"setup"},"Setup"),(0,l.kt)("h3",{id:"installation"},"Installation"),(0,l.kt)("p",null,"Install the flutter plugin by adding it to your pubspec.yaml file."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-yaml"},"dependencies:\n  webwallet:\n    git:\n      url: git@github.com:UnumID/UnumIDWebWallet-Flutter.git\n")),(0,l.kt)("h2",{id:"usage"},"Usage"),(0,l.kt)("h3",{id:"sdk-initialization"},"SDK Initialization"),(0,l.kt)("p",null,"This function initializes the Verified Inc. SDK, allowing the host app to use it. It must be called before any other SDK functionality can be used. In most cases, it should be called when the application loads/comes to the foreground. Once onSuccess is returned, the developer will then be able to retrieve the saved did."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"import 'package:webwallet/webwallet.dart';\n\n @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      home: Scaffold(\n        appBar: AppBar(\n          title: const Text('WebWallet plugin example app'),\n        ),\n        body: Center(\n          child: TextButton(\n          style: ButtonStyle(\n            foregroundColor: MaterialStateProperty.all<Color>(Colors.blue),\n          ),\n          onPressed: () {\n            _webwalletPlugin.launchWebWallet(true, \"userCode\", \"test@verified.inc\", \"issuerDid\");\n           },\n          child: Text('Launch WebWallet')\n        ),\n        ),\n      ),\n    );\n  }\n}\n")),(0,l.kt)("h3",{id:"sdk-handle-deeplink"},"SDK Handle deeplink"),(0,l.kt)("p",null,"An example of handling deeplinks"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},'\nimport \'package:webwallet/webwallet.dart\';\n\nclass WebWalletWidget extends StatelessWidget {\n  const WebWalletWidget({super.key});\n  @override\n  Widget build(BuildContext context) {\n    DeepLinkBloc _bloc = Provider.of<DeepLinkBloc>(context);\n    final _webwalletPlugin = Webwallet();\n    return StreamBuilder<String>(\n        stream: _bloc.state,\n        builder: (context, snapshot) {\n          if (!snapshot.hasData) {\n            return const Center(child: Text(\'No deep link was used\'));\n          } else {\n            return Center(\n                child: Padding(\n                    padding: const EdgeInsets.all(20.0),\n                    child: TextButton(\n                      style: ButtonStyle(\n                        foregroundColor:\n                            MaterialStateProperty.all<Color>(Colors.blue),\n                      ),\n                      onPressed: () {\n                         _webwalletPlugin.launchWebWallet(true, "userCode", "test@verified.inc", "issuerDid");\n                      },\n                      child: Text("${snapshot.data}"),\n                    )));\n          }\n        });\n  }\n}\n')),(0,l.kt)("h3",{id:"sdk-logging"},"SDK Logging"),(0,l.kt)("p",null,"Turn on SDK Logging"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},"import 'package:unumidflutter/unumidflutter.dart';\n\nUnumidflutter.turnOnLogging();\n")),(0,l.kt)("h3",{id:"an-example-of-passing-parameters"},"An example of passing parameters"),(0,l.kt)("p",null,"You can easily pass parameters to launch the WebWallet from the code."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-dart"},'\n@override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n        home: Scaffold(\n      appBar: AppBar(\n        backgroundColor: Colors.blue,\n        title: const Text(\'WebWallet plugin example app\'),\n      ),\n      body: Center(\n          child: Column(\n        mainAxisAlignment: MainAxisAlignment.center,\n        crossAxisAlignment: CrossAxisAlignment.center,\n        children: [\n          Padding(\n              padding: const EdgeInsets.all(16.0),\n              child: Column(children: [\n                TextField(\n                    decoration: const InputDecoration(\n                      border: OutlineInputBorder(),\n                      hintText: \'Enter user code\',\n                    ),\n                    onChanged: (text) {\n                      setState(() {\n                        userCode = text;\n                      });\n                    }),\n                const SizedBox(height: 10),\n                TextField(\n                    decoration: const InputDecoration(\n                      border: OutlineInputBorder(),\n                      hintText: \'Enter user email\',\n                    ),\n                    onChanged: (text) {\n                      setState(() {\n                        userEmail = text;\n                      });\n                    }),\n                const SizedBox(height: 10),\n                TextField(\n                    decoration: const InputDecoration(\n                      border: OutlineInputBorder(),\n                      hintText: \'Enter issuer did\',\n                    ),\n                    onChanged: (text) {\n                      setState(() {\n                        issuerDid = text;\n                      });\n                    })\n              ])),\n          TextButton(\n            style: ButtonStyle(\n              foregroundColor: MaterialStateProperty.all<Color>(Colors.blue),\n            ),\n            onPressed: () {\n              if (Platform.isAndroid) {\n                _webwalletPlugin.androidSetStateValues(\n                    "issuer", userCode, userEmail);\n                _webwalletPlugin.androidPerformVerification("appId", "appKey",\n                    "workflowId", "transactionId", "deepLinkScheme");\n              } else {\n                _webwalletPlugin.launchWebWallet(true, userCode, userEmail,\n                    issuerDid, Colors.blue.toHex(), Colors.white.toHex());\n              }\n            },\n            child: const Text(\'Launch WebWallet\'),\n          ),\n        ],\n      )),\n    ));\n  }\n}\n\n')),(0,l.kt)("admonition",{type:"note"},(0,l.kt)("p",{parentName:"admonition"},"The technical details of DIDs are not relevant to deploying or using Verified Inc.. You can think of DIDs as identifiers in the normal sense \u2014 unique, random strings of characters like UUIDs.")),(0,l.kt)("p",null,"When you ",(0,l.kt)("a",{parentName:"p",href:"#initialize"},"initialize")," the SDK, you can optionally include a DID."),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Don't include a DID for a user who's new to the SDK.")," The SDK will generate a new one that you should store, associated with the user ID in your system."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("strong",{parentName:"li"},"Do include a DID for a user who returns to the SDK.")," The SDK will use this DID to access the correct stored data for that user.")),(0,l.kt)("admonition",{type:"important"},(0,l.kt)("p",{parentName:"admonition"},"DIDs are the ",(0,l.kt)("em",{parentName:"p"},"only")," identifiers the SDK understands, so it relies entirely on the host app to pass the correct one."),(0,l.kt)("p",{parentName:"admonition"},"For example, suppose Users 1 and 2 are associated with DIDs 1 and 2, respectively. If User 1 is using the host app, but the app passes DID 2 to the SDK, the SDK will give User 1 access to to User 2's data.")))}c.isMDXComponent=!0}}]);