"use strict";(self.webpackChunkunum_id=self.webpackChunkunum_id||[]).push([[843],{5162:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(7294),i=n(6010);const o="tabItem_Ymn6";function l(e){let{children:t,hidden:n,className:l}=e;return a.createElement("div",{role:"tabpanel",className:(0,i.Z)(o,l),hidden:n},t)}},5488:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(7462),i=n(7294),o=n(6010),l=n(2389),r=n(7392),s=n(7094),u=n(2466);const d="tabList__CuJ",p="tabItem_LNqP";function c(e){var t,n;const{lazy:l,block:c,defaultValue:m,values:h,groupId:k,className:g}=e,v=i.Children.map(e.children,(e=>{if((0,i.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),y=null!=h?h:v.map((e=>{let{props:{value:t,label:n,attributes:a}}=e;return{value:t,label:n,attributes:a}})),b=(0,r.l)(y,((e,t)=>e.value===t.value));if(b.length>0)throw new Error('Docusaurus error: Duplicate values "'+b.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.');const f=null===m?m:null!=(t=null!=m?m:null==(n=v.find((e=>e.props.default)))?void 0:n.props.value)?t:v[0].props.value;if(null!==f&&!y.some((e=>e.value===f)))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+f+'" but none of its children has the corresponding value. Available values are: '+y.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");const{tabGroupChoices:D,setTabGroupChoices:I}=(0,s.U)(),[N,w]=(0,i.useState)(f),S=[],{blockElementScrollPositionUntilNextRender:T}=(0,u.o5)();if(null!=k){const e=D[k];null!=e&&e!==N&&y.some((t=>t.value===e))&&w(e)}const C=e=>{const t=e.currentTarget,n=S.indexOf(t),a=y[n].value;a!==N&&(T(t),w(a),null!=k&&I(k,String(a)))},E=e=>{var t;let n=null;switch(e.key){case"ArrowRight":{var a;const t=S.indexOf(e.currentTarget)+1;n=null!=(a=S[t])?a:S[0];break}case"ArrowLeft":{var i;const t=S.indexOf(e.currentTarget)-1;n=null!=(i=S[t])?i:S[S.length-1];break}}null==(t=n)||t.focus()};return i.createElement("div",{className:(0,o.Z)("tabs-container",d)},i.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":c},g)},y.map((e=>{let{value:t,label:n,attributes:l}=e;return i.createElement("li",(0,a.Z)({role:"tab",tabIndex:N===t?0:-1,"aria-selected":N===t,key:t,ref:e=>S.push(e),onKeyDown:E,onFocus:C,onClick:C},l,{className:(0,o.Z)("tabs__item",p,null==l?void 0:l.className,{"tabs__item--active":N===t})}),null!=n?n:t)}))),l?(0,i.cloneElement)(v.filter((e=>e.props.value===N))[0],{className:"margin-top--md"}):i.createElement("div",{className:"margin-top--md"},v.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==N})))))}function m(e){const t=(0,l.Z)();return i.createElement(c,(0,a.Z)({key:String(t)},e))}},1520:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>h,frontMatter:()=>s,metadata:()=>d,toc:()=>c});var a=n(7462),i=(n(7294),n(3905)),o=n(5488),l=n(5162),r=(n(7874),n(106));const s={id:"mobile-sdk-android",title:"Mobile SDK - Android",sidebar_label:"Android",slug:"/mobile-sdk-android"},u=void 0,d={unversionedId:"mobile-sdk-android",id:"mobile-sdk-android",title:"Mobile SDK - Android",description:"Docs for the iOS SDK are here.",source:"@site/docs/mobile-sdk-android.mdx",sourceDirName:".",slug:"/mobile-sdk-android",permalink:"/mobile-sdk-android",draft:!1,tags:[],version:"current",frontMatter:{id:"mobile-sdk-android",title:"Mobile SDK - Android",sidebar_label:"Android",slug:"/mobile-sdk-android"}},p={},c=[{value:"Overview",id:"overview",level:2},{value:"Minimum Requirements",id:"minimum-requirements",level:3},{value:"Required Permissions",id:"required-permissions",level:3},{value:"Setup",id:"setup",level:2},{value:"Installation",id:"installation",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Initialization",id:"initialization",level:3},{value:"Deep Links",id:"deep-links",level:3},{value:"Event Listener",id:"event-listener",level:3},{value:"Presentation Response",id:"presentation-response",level:3},{value:"QR Code Scanner",id:"qr-code-scanner",level:3},{value:"Logging",id:"logging",level:3},{value:"Callback",id:"callback",level:3},{value:"Handling Multiple Users",id:"handling-multiple-users",level:2},{value:"Example Flow",id:"example-flow",level:3}],m={toc:c};function h(e){let{components:t,...s}=e;return(0,i.kt)("wrapper",(0,a.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"Docs for the iOS SDK are ",(0,i.kt)("a",{parentName:"em",href:"mobile-sdk-ios"},"here"),".")),(0,i.kt)("p",null,"This is a lightweight, fully native SDK that allows a host app to receive and store ",(0,i.kt)(r.Z,{type:"credential",mdxType:"Tip"},"credentials"),", receive ",(0,i.kt)(r.Z,{type:"request",mdxType:"Tip"},"requests"),", and share ",(0,i.kt)(r.Z,{type:"presentation",mdxType:"Tip"},"presentations"),". It works with both Kotlin and Java native apps."),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Before you begin:")," You need to be registered as Unum ID customer, and you need to register at least one ",(0,i.kt)(r.Z,{type:"holder app",mdxType:"Tip"}),". (You can register zero to many, depending on your use case.) You'll receive a holder app API key to use with this SDK."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"More detailed but less styled documentation can be found ",(0,i.kt)("a",{parentName:"p",href:"http://docs.unumid.co/Holder-SDK-Android/"},"here"),". This serves as a useful technical reference.")),(0,i.kt)("h2",{id:"overview"},"Overview"),(0,i.kt)("h3",{id:"minimum-requirements"},"Minimum Requirements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Android 6.0 (Marshmallow) and above")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"English language")," (internationalization coming soon)")),(0,i.kt)("h3",{id:"required-permissions"},"Required Permissions"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Camera:")," requested when you show the QR code scanner"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Biometrics/Passcode:")," requested when you call ",(0,i.kt)("inlineCode",{parentName:"li"},"initialize()"))),(0,i.kt)("p",null,"These permissions are requested by the SDK \u2014 no action is required by the host app. "),(0,i.kt)("p",null,"Because the SDK leverages the secure hardware of the user's device for cryptographic operations, it requires OS level user authentication. This means ",(0,i.kt)("strong",{parentName:"p"},"the user must have a lock screen biometric, passcode, or similar.")," If the user doesn't have this set up, the SDK will prompt the user and direct them to the correct place in Settings to do so."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"Device biometrics are typically ",(0,i.kt)("em",{parentName:"p"},"aliases")," for passcodes (or similar options like PINs and patterns) and fall back to those. This is all handled at the OS level.")),(0,i.kt)("h2",{id:"setup"},"Setup"),(0,i.kt)("h3",{id:"installation"},"Installation"),(0,i.kt)("p",null,"When you register a ",(0,i.kt)(r.Z,{type:"holder app",mdxType:"Tip"}),", we will send you a GitHub personal access token. Create a github.properties file in the root of your project."),(0,i.kt)("p",null,"In the app level build.gradle add your GitHub username, personal access token to the repositories block inside of the android block.\nIt is suggested to add this file to .gitignore so it is not committed to your repo. Add properties ",(0,i.kt)("inlineCode",{parentName:"p"},"gpr.usr=GITHUB_USERID")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"gpr.key=PERSONAL_ACCESS_TOKEN"),"\nReplace ",(0,i.kt)("inlineCode",{parentName:"p"},"GITHUB_USERID")," with personal / organization Github User ID and ",(0,i.kt)("inlineCode",{parentName:"p"},"PERSONAL_ACCESS_TOKEN")," with the token sent to you."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'def githubProperties = new Properties()\ngithubProperties.load(new FileInputStream(rootProject.file("github.properties")))\n\nandroid {\n    repositories {\n        maven {\n            name = "GitHubPackages"\n\n            url = uri("https://maven.pkg.github.com/UnumID/Holder-SDK-Android")\n            credentials {\n                /** Create github.properties in root project folder file with\n                 ** gpr.usr=GITHUB_USER_ID & gpr.key=PERSONAL_ACCESS_TOKEN\n                 ** Set env variable GPR_USER & GPR_API_KEY if not adding a properties file**/\n                username = githubProperties[\'gpr.usr\'] ?: System.getenv("")\n                password = githubProperties[\'gpr.key\'] ?: System.getenv("")\n            }\n        }\n    }\n\n   ......\n')),(0,i.kt)("p",null,"In the app level build.gradle add the reference to the SDK"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "id.unum:androidsdk:1.7.45"\n')),(0,i.kt)("h3",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"The Android SDK has the ability for some aspects of its functionality to be customized to the client application. The following preferences can be set at a global level for the SDK."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"useFullScreenDialog")," :  If the SDK handles showing a presentation request, should it be shown in a system dialog or a full screen presentation."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"returnPresentationDetails")," :  Should the presentation request be handled by the client application. This would allow the client application to show a custom UI for presentation requests.")),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"UnumId.configure(UnumSDKConfig(useFullScreenDialog = true, returnPresentationDetails = false))\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"UnumId.configure(new UnumSDKConfig(true, false));\n")))),(0,i.kt)("h3",{id:"initialization"},"Initialization"),(0,i.kt)("p",null,"You should initialize the SDK when the app starts up. This will ensure the SDK is set up properly. "),(0,i.kt)("p",null,"You can optionally include a ",(0,i.kt)(r.Z,{type:"DID",mdxType:"Tip"})," (",(0,i.kt)("inlineCode",{parentName:"p"},"did"),"), which identifies a user (technically called a ",(0,i.kt)(r.Z,{type:"subject",mdxType:"Tip"}),") in the Unum ID ecosystem. A returning user will already have a DID, so you should include this to ensure the SDK loads any new credentials associated with that DID as part of the initialization process. "),(0,i.kt)("p",null,"You can optionally include the ",(0,i.kt)("inlineCode",{parentName:"p"},"UnumCallback")," to be notified of the result of the initialization call."),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"initialize({\n    customerId(BuildConfig.CUSTOMER_ID) // your customer UUID\n    apiKey(BuildConfig.API_KEY) // your holder app API key\n    onError(::onErrorFunction) // (optional) run if there's an error\n    did(did) // (optional) include this for returning users \u2014 otherwise leave empty\n},\nobject : UnumCallback {\n    override fun onSuccess(data: String?) {\n        data?.let {\n            val did = data\n            // store DID \u2014 associate with user in your database\n         }\n    }\n\n    override fun onSDKError(error: String?) {\n\n    }\n\n    override fun onAPIError(code: Int, error: String?) {\n\n    }\n})\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'UnumInitializationConfiguration configuration = new UnumInitializationConfiguration.Builder()\n    .customerId(BuildConfig.CustomerId) // your customer UUID\n    .apiKey(BuildConfig.ApiKey) // your holder app API key\n    .onError(() -> { // (optional) run if there\'s an error\n        onErrorFunction();\n        return null;\n    })\n    .did(did) // (optional) include this for returning users \u2014 otherwise leave empty\n    .build();\n\nUnumId.INSTANCE.initialize(configuration, new UnumCallback() {\n    @Override\n    public void onSuccess(Object data) {\n        if (data != null && data instanceof String) {\n            // returned data is string version of subject (user) DID\n            // store DID \u2014 associate with user in your database\n        }\n    }\n\n    @Override\n    public void onSDKError(@Nullable String error) {\n        Log.e("MainActivity", "SDK Error");\n    }\n\n    @Override\n    public void onAPIError(int code, @Nullable String error) {\n        Log.e("MainActivity", "API Error");\n    }\n});\n')))),(0,i.kt)("p",null,"The initialization process involves creating private keys for the user using the secure hardware of the device. This requires OS level authentication, so the user will be prompted to pass a biometric check, enter their passcode, or authenticate in an analogous way. If they don't have this set up, the SDK will direct them to the correct place in Settings to do so."),(0,i.kt)("h3",{id:"deep-links"},"Deep Links"),(0,i.kt)("p",null,"In the context of Unum ID, a ",(0,i.kt)("strong",{parentName:"p"},"deep link")," is a URL that opens a specific ",(0,i.kt)(r.Z,{type:"holder app",mdxType:"Tip"}),". For example, a link that opens the ACME mobile app might look like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"unumid://acme/presentationRequest/88d37012-f83b-453a-a1f1-d4a1bcf86aa3\n")),(0,i.kt)("p",null,"The SDK uses deep links to retrieve and display a ",(0,i.kt)(r.Z,{type:"request",mdxType:"Tip"})," to a user, who decides whether to share data in response. Users will typically encounter deep links displayed in the ",(0,i.kt)("a",{parentName:"p",href:"/web-sdk"},"Web SDK")," (in QR code or button form) or sent over a communication channel (like push notification, SMS, or email)."),(0,i.kt)("p",null,"You need to pass Unum ID deep links to the SDK to be processed. To do so, set up an activity as shown below. This will catch a deep link like the example one shown above."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<activity android:name=".MainActivity">\n    <intent-filter>\n        <action android:name="android.intent.action.VIEW" />\n\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n\n        <data\n            android:host="unumid"\n            android:scheme="acme" />\n    </intent-filter>\n</activity>\n')),(0,i.kt)("p",null,"When it receives a deep link, the SDK will display a system alert, asking the user how they want to respond to the ",(0,i.kt)(r.Z,{type:"request",mdxType:"Tip"})," (that the deep link references)."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Credential Request Popup",src:n(8818).Z,width:"260",height:"318"})),(0,i.kt)("p",null,"The SDK will do the following based on the user's action. If the user clicks:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'"Yes":')," the SDK will send a ",(0,i.kt)(r.Z,{type:"presentation",mdxType:"Tip"})," (of the requested ",(0,i.kt)(r.Z,{type:"credentiaal",mdxType:"Tip"},"credentials"),") to the company that made the request."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'"No":')," the SDK will send an empty presentation that indicates that the user declined the request."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},'"Something\'s wrong...":')," the SDK will flag the request as suspicious.")),(0,i.kt)("h3",{id:"event-listener"},"Event Listener"),(0,i.kt)("p",null,"In the case that the client application would like to be responsible to showing a custom UI for presentation requests, the\n",(0,i.kt)("inlineCode",{parentName:"p"},"UnumEventLister")," should be set by the client application. This will allow the client application to listen for SDK events.\nEvents will be sent to the client application with a ",(0,i.kt)("inlineCode",{parentName:"p"},"EventType")," and a ",(0,i.kt)("inlineCode",{parentName:"p"},"JSON")," payload."),(0,i.kt)("p",null,"To set the listen in the SDK call:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"UnumID.setEventListener(listener: UnumEventListener)\n")),(0,i.kt)("h3",{id:"presentation-response"},"Presentation Response"),(0,i.kt)("p",null,"When the client application is handling the UI for a presentation request, the selected results for the request can be sent\nto the SDK with ",(0,i.kt)("inlineCode",{parentName:"p"},"onPresentationResponse"),". This should include an enum of the response (Accept, Decline, FLag), and the original JSON payload. However,\nthe payload can be modified by the client application to only include selected credentials in the case that some credentials are optional, or there are\nmultiple values for same credential type."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"UnumID.onPresentationResponse(responseType: PresentationResponse, json: String)\n")),(0,i.kt)("h3",{id:"qr-code-scanner"},"QR Code Scanner"),(0,i.kt)("p",null,"The Unum ID ",(0,i.kt)("a",{parentName:"p",href:"#/deep-links"},"deep links")," described above can be displayed in QR code form. This is important for cases when a user is on a non-mobile device. For example, the ACME Bank website might request that a user share an authentication credential to log into the ACME website on desktop. ACME would do so by displaying a QR code that the user scans. This would open the ACME mobile app on the user's phone and prompt the user to share the requested data."),(0,i.kt)("p",null,"Any QR code scanner can read an Unum ID deep link in QR code form. Some but not all devices support scanning directly from the native camera, so you should make it possible for the user to scan codes from within your app. "),(0,i.kt)("p",null,"If you already have a QR code scanner, you can pass QR codes directly to the SDK like so:"),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"UnumId.handleLink(Uri.parse(qrCode))\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"UnumId.INSTANCE.handleLink(Uri.parse(qrCode));\n")))),(0,i.kt)("p",null,"If you don't have a QR code scanner, you can use the one included in the SDK. Simply start the QR code activity as shwon below. This will automatically pass the deep link to the SDK \u2014 no further action is needed from the host app."),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"private fun showQRCodeScanner() {\n    val launchIntent = UnumQRCodeActivity.getLaunchIntent(this, true, false)\n    startActivityForResult(launchIntent, REQUEST_CODE)\n}\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n\n    if (requestCode == REQUEST_CODE && data != null) {\n        val barcode: Barcode? =\n            data.getParcelableExtra(UnumQRCodeActivity.KEY_CAPTURED_BARCODE)\n        barcode?.let {\n            Toast.makeText(this, barcode.rawValue, Toast.LENGTH_LONG).show()\n        }\n    }\n }\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"private void startQRCodeScanner() {\n    Intent launch = UnumQRCodeActivity.Companion.getLaunchIntent(\n            QrCodeScannerActivity.this,\n            true,\n            false);\n    startActivityForResult(launch, REQUEST_CODE);\n}\n\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n\n    if (requestCode == REQUEST_CODE && data != null) {\n        Barcode barcode = data.getParcelableExtra(UnumQRCodeActivity.Companion.getKEY_CAPTURED_BARCODE());\n        if (barcode != null) {\n            Toast.makeText(this, barcode.rawValue, Toast.LENGTH_LONG).show();\n        }\n    }\n}\n")))),(0,i.kt)("p",null,'You can call this on a trigger of your choice. For example, you can create a "Scan QR Code" button that starts the activity when the user clicks it:'),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"qrButton.setOnClickListener {\n    showQRCodeScanner()\n}\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"findViewById(R.id.qrButton).setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        startQRCodeScanner();\n    }\n});\n")))),(0,i.kt)("p",null,"The QR code scanner lookss like this:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"QR code scanner",src:n(2426).Z,width:"282",height:"393"})),(0,i.kt)("h3",{id:"logging"},"Logging"),(0,i.kt)("p",null,"You can turn SDK logging on and off and set the log level:"),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"// Turn the SDK logger on or off\nUnumLogger.enableUnumLogging = true\n// If logger enabled, set desired message log level\nUnumLogger.loggingLevel = UnumLogger.VERBOSE\n"))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"\n    // Turn the Unum ID logger on or off. This will allow\n    // you to show or hide log messages from the SDK\n    UnumLogger.Companion.setEnableUnumLogging(true);\n\n    // If the SDK Logger is enabled, set the desired message log level\n    UnumLogger.Companion.setLoggingLevel(UnumLogger.VERBOSE);\n")))),(0,i.kt)("h3",{id:"callback"},"Callback"),(0,i.kt)("p",null,"You can pass the ",(0,i.kt)("inlineCode",{parentName:"p"},"UnumCallback")," to most method calls within the SDK. This adds a listener that records the result of the method call \u2013 a successful call, an SDK error, or an API error. The ",(0,i.kt)("a",{parentName:"p",href:"#initialization"},"Initialization")," section shows one example of this, and here's another:"),(0,i.kt)(o.Z,{groupId:"languages",defaultValue:"kotlin",values:[{label:"Kotlin",value:"kotlin"},{label:"Java",value:"java"}],mdxType:"Tabs"},(0,i.kt)(l.Z,{value:"kotlin",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'initialize({\n    customerId(BuildConfig.CUSTOMER_ID)\n    apiKey(BuildConfig.API_KEY)\n    onError(::onErrorFunction)\n},\nobject : UnumCallback {\n    override fun onSuccess(data: Any?) {\n        data?.let {\n            if (it is String && it.isNotEmpty()) {\n                // do something with returned data\n            }\n         }\n    }\n\n    override fun onSDKError(error: String?) {\n        Log.e("MainActivity", "SDK Error");\n        // view string error\n    }\n\n    override fun onAPIError(code: Int, error: String?) {\n        Log.e("MainActivity", "API Error");\n        // view string error\n    }\n})\n'))),(0,i.kt)(l.Z,{value:"java",mdxType:"TabItem"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'\nUnumId.INSTANCE.initialize(configuration, new UnumCallback() {\n    @Override\n    public void onSuccess(Object data) {\n        if (data != null && data instanceof String) {\n            // do something with returned data\n        }\n    }\n\n    @Override\n    public void onSDKError(@Nullable String error) {\n        Log.e("MainActivity", "SDK Error");\n        // view string error\n    }\n\n    @Override\n    public void onAPIError(int code, @Nullable String error) {\n        Log.e("MainActivity", "API Error");\n        // view string error\n    }\n});\n')))),(0,i.kt)("h2",{id:"handling-multiple-users"},"Handling Multiple Users"),(0,i.kt)("p",null,"Each user is identified by some user ID in your system and by a ",(0,i.kt)(r.Z,{type:"DID",mdxType:"Tip"})," in the Unum ID ecosystem. You simply need to store an association between each user ID and DID. That way, when your host app has a particular user ID (for example once a user is logged into your existing account system), it can pass the corresponding DID to the SDK."),(0,i.kt)("p",null,"If you don't have existing user IDs, you ",(0,i.kt)("em",{parentName:"p"},"could")," use the DIDs themselves as user IDs. However, we recommend using separate identifiers (internal to your company), to distinguish them from DIDs, which are global to the Unum ID ecosystem."),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"The technical details of DIDs are not relevant to deploying or using Unum ID. You can think of DIDs as identifiers in the normal sense \u2014 unique, random strings of characters like UUIDs.")),(0,i.kt)("p",null,"When you ",(0,i.kt)("a",{parentName:"p",href:"#initialize"},"initialize")," the SDK, you can optionally include a DID. "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Don't include a DID for a user who's new to the SDK.")," The SDK will generate a new one that you should store, associated with the user ID in your system."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Do include a DID for a user who returns to the SDK.")," The SDK will use this DID to access the correct stored data for that user.")),(0,i.kt)("admonition",{type:"important"},(0,i.kt)("p",{parentName:"admonition"},"DIDs are the ",(0,i.kt)("em",{parentName:"p"},"only")," identifiers the SDK understands, so it relies entirely on the host app to pass the correct one. "),(0,i.kt)("p",{parentName:"admonition"},"For example, suppose Users 1 and 2 are associated with DIDs 1 and 2, respectively. If User 1 is using the host app, but the app passes DID 2 to the SDK, the SDK will give User 1 access to to User 2's data.")),(0,i.kt)("h3",{id:"example-flow"},"Example Flow"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"New User 1 logs into host app."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"SDK is initialized with no DID."),(0,i.kt)("li",{parentName:"ul"},"SDK returns newly generated DID 1."),(0,i.kt)("li",{parentName:"ul"},"Host app stores DID 1 and associates it with User 1."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"New User 2 logs into host app."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"SDK is initialized with no DID."),(0,i.kt)("li",{parentName:"ul"},"SDK returns newly generated DID 2."),(0,i.kt)("li",{parentName:"ul"},"Host app stores DID 2 and associates it with User 2."))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Returning User 1 logs into host app."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Host app retrieves DID 1 and includes it in SDK initialization."),(0,i.kt)("li",{parentName:"ul"},"SDK recognizes this is a returning user and does not generate a new DID.")))))}h.isMDXComponent=!0},2426:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/android-scanner-a86e4a33b484ec9cf54fc455429f1f27.png"},8818:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/presentation-request-7fb200092a3431648a3fceaec755b757.png"}}]);