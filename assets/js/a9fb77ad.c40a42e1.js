"use strict";(self.webpackChunkverified_inc=self.webpackChunkverified_inc||[]).push([[1378,6284],{6937:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>u,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>h,toc:()=>p});var r=i(5893),s=i(1151),t=(i(7874),i(106),i(4866)),l=i(5162),a=i(9474),o=i(9047);const d={id:"1-click-signup",title:"1-Click Signup",sidebar_label:"1-Click Signup",slug:"/",toc_max_heading_level:3},c=void 0,h={id:"1-click-signup",title:"1-Click Signup",description:"- Time to read: 20 minutes",source:"@site/docs/1-click-signup.mdx",sourceDirName:".",slug:"/",permalink:"/",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"1-click-signup",title:"1-Click Signup",sidebar_label:"1-Click Signup",slug:"/",toc_max_heading_level:3},sidebar:"sidebar",next:{title:"Issue to Earn",permalink:"/issue-to-earn"}},u={},p=[{value:"How It Works",id:"how-it-works",level:2},{value:"User Experience",id:"user-experience",level:3},{value:"Flow Diagram",id:"flow-diagram",level:3},{value:"Sequence Diagram",id:"full-sequence-diagram",level:3},{value:"Implement",id:"implement",level:2},{value:"3 Steps to Implement",id:"3-steps-to-implement",level:3},{value:"Simplest Implementation",id:"simplest-implementation",level:4},{value:"1. Call 1-Click Endpoint",id:"call-1-click-endpoint",level:3},{value:"Sequence Diagram",id:"sequence-diagram",level:4},{value:"Basic Request",id:"basic-request",level:4},{value:"Advanced Request",id:"advanced-request",level:4},{value:"Response",id:"response",level:4},{value:"2. (optional) Redirect User",id:"redirect-user",level:3},{value:"Sequence Diagram",id:"sequence-diagram-1",level:4},{value:"Pros and Cons",id:"pros-and-cons",level:4},{value:"3. Receive User Data",id:"receive-user-data",level:3},{value:"Sequence Diagram",id:"sequence-diagram-2",level:4},{value:"Push Option (recommended)",id:"push-option",level:4},{value:"Pull Option",id:"pull-option",level:4},{value:"Sequence Diagram",id:"sequence-diagram-3",level:4},{value:"Response",id:"response-1",level:4},{value:"Non-Hosted Flow",id:"non-hosted-flow",level:2}];function f(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",del:"del",em:"em",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Time to read:"})," 20 minutes"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Time to implement:"})," 2-4 hours"]}),"\n"]}),"\n","\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1-Click Signup\u2122 is to onboarding what 1-click checkout is to payments."})," It's the fastest way for a user to sign up for your service."]}),"\n",(0,r.jsx)(n.p,{children:"With just a phone number, we can pull verified data about a user, including:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Full Name"}),"\n",(0,r.jsx)(n.li,{children:"Email(s)"}),"\n",(0,r.jsx)(n.li,{children:"Phone(s)"}),"\n",(0,r.jsx)(n.li,{children:"Address(es)"}),"\n",(0,r.jsx)(n.li,{children:"Date of Birth"}),"\n",(0,r.jsx)(n.li,{children:"Social Security Number"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"This works for 95% of US adults (253M consumers)."})," The data is extremely high quality because it comes from wireless phone providers, who are required by law to perform strong identity verification (Know Your Customer)."]}),"\n",(0,r.jsx)(n.admonition,{title:"Privacy First",type:"info",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A user's data is never shared without their consent."})," We are committed to putting people in control of their own data. We are SOC 2 Type II certified and compliant with major regulatory frameworks like GDPR and CCPA. For more information, please see our ",(0,r.jsx)(n.a,{href:"https://www.verified.inc/privacy-security-and-compliance",children:"Privacy, Security, and Compliance"})," page."]})}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsx)(n.h3,{id:"user-experience",children:"User Experience"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:[(0,r.jsxs)(n.strong,{children:["Try our ",(0,r.jsx)(n.a,{href:"/demo-1-click-signup",children:"1-Click Signup demos"})]})," to see this user experience in action."]})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"1-Click Signup can take less than 10 seconds for a user to complete."})," It usually takes around 20-30 seconds."]}),"\n",(0,r.jsx)(n.p,{children:"The user experience is simple:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Enter phone number"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Receive SMS with verification link/code"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Click link or enter code"})}),"\n",(0,r.jsxs)(n.li,{children:["(only if first time) ",(0,r.jsx)(n.strong,{children:"Enter DOB/SSN4"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Review and consent to share data"})}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Step 4 Happens Only On First Time Use",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"If it's the user's first time using 1-Click Signup, they'll need to enter their date of birth (DOB) or the last 4 digits of their Social Security Number (SSN4). This is for additional verification."}),"\n",(0,r.jsxs)(n.li,{children:["If it's ",(0,r.jsx)(n.em,{children:"not"})," the user's first time, this step will be skipped."]}),"\n"]})}),"\n",(0,r.jsxs)(n.admonition,{title:"Without Redirect vs. With Redirect",type:"tip",children:[(0,r.jsx)(n.p,{children:"You can choose whether you redirect the user or not as part of the flow:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In the ",(0,r.jsx)(n.a,{href:"#simplest-implementation",children:"simplest implementation"}),", you don't redirect the user and they click a verification link in the SMS."]}),"\n",(0,r.jsxs)(n.li,{children:["Instead, you can (optionally) ",(0,r.jsx)(n.a,{href:"#redirect-user",children:"redirect the user"})," (to a URL we provide), so they can enter a verification code from the SMS."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["Both of these approaches work well but have their ",(0,r.jsx)(n.a,{href:"#pros-and-cons",children:"pros and cons"}),"."]})]}),"\n",(0,r.jsx)(n.h3,{id:"flow-diagram",children:"Flow Diagram"}),"\n",(0,r.jsx)(n.p,{children:"Think of 1-Click Signup as a black box, where the input is a phone number and the output is verified user data:"}),"\n",(0,r.jsxs)(t.Z,{children:[(0,r.jsxs)(l.Z,{value:"black-box",label:"Black Box",default:!0,children:[(0,r.jsx)(n.p,{children:"You send us a phone number, and we send you verified user data, with full user consent. Yes, it's really that simple!"}),(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nflowchart TD\n    A[ ] --\x3e|phone number| 1-click-signup\n    subgraph 1-click-signup [1-Click Signup]\n        \n    end\n    1-click-signup --\x3e|verified user data| C[ ] \n\n    style A fill-opacity:0, stroke-opacity:0;\n    style C  fill-opacity:0, stroke-opacity:0;"})]}),(0,r.jsxs)(l.Z,{value:"partial-detail",label:"Partial Detail",children:[(0,r.jsx)(n.p,{children:"Under the hood, 1-Click Signup involves an SMS, user verification, and user consent:"}),(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nflowchart TD\n    A[ ] --\x3e|phone number| 1-click-signup\n    subgraph 1-click-signup [1-Click Signup]\n        B(We send user SMS) --\x3e C(User verifies)\n        C --\x3e D(We pull verified user data)\n        D --\x3e E(User consents to share data)\n    end\n    1-click-signup --\x3e|verified user data| F[ ] \n\n    style A fill-opacity:0, stroke-opacity:0;\n    style F fill-opacity:0, stroke-opacity:0;"})]}),(0,r.jsxs)(l.Z,{value:"full-detail",label:"Full Detail",children:[(0,r.jsx)(n.p,{children:"To get even more detailed, the verification step is slightly different depending on whether it's the user's first time using 1-Click Signup or not:"}),(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nflowchart TD\n    subgraph user-verifies[User verifies]\n        direction TB\n        B(User clicks link or enters code) --\x3e C{User's first time?}\n        C --\x3e|yes| D(User enters DOB/SSN4)\n    end\n    C --\x3e|no| E[ ]\n    D --\x3e E\n\n    style E fill-opacity:0, stroke-opacity:0;"}),(0,r.jsx)(n.p,{children:"In both cases, the user clicks the link or enters the code from the SMS. But if it's the user's first time using 1-Click Signup, there's an additional verification step, where they enter their date of birth or the last 4 digits of their Social Security Number."}),(0,r.jsx)(n.p,{children:"So, the fully detailed flow is:"}),(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nflowchart TD\n    A[ ] --\x3e|phone number| 1-click-signup\n    subgraph 1-click-signup[1-Click Signup]\n        direction TB\n        B(We send user SMS) --\x3e C(User clicks link or enters code)\n        subgraph user-verifies[User Verifies]\n            direction TB\n            C --\x3e D{User's first time?}\n            D --\x3e|yes| E(User enters DOB/SSN4)\n        end\n        D --\x3e|no| F(We pull verified user data)\n        E --\x3e F\n        F --\x3e G(User consents to share data)\n    end\n    G --\x3e|verified user data| H[ ] \n\n    style A fill-opacity:0, stroke-opacity:0;\n    style H fill-opacity:0, stroke-opacity:0;"})]})]}),"\n",(0,r.jsx)(n.h3,{id:"full-sequence-diagram",children:"Sequence Diagram"}),"\n",(0,r.jsx)(n.p,{children:"Here's the full flow:"}),"\n",(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'activationBkgColor': '#e6f6e6',\n            'activationBorderColor': '#0dbc3d',\n            'labelBoxBkgColor': '#eef9fd',\n            'labelBoxBorderColor': '#164fd6',\n            'labelTextColor': '#193c47',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nsequenceDiagram\n    participant C as Customer\n    actor U as User\n    participant V as Verified Inc.\n    C->>+U: Show phone number input\n    U->>-C: Enter phone number\n    rect rgb(200,200,200,0.25)\n        note left of C: 1. Call 1-Click Endpoint\n        C->>+V: Call POST /1-click with phone number\n        V->>-C: Return URL\n        opt\n            note left of C: 2. (optional) Redirect User\n            C--\x3e>U: (optional) Redirect user to URL\n        end\n        rect rgb(200,200,200,0.85)\n            note right of V: (handled by Verified Inc.)\n            V->>+U: Send SMS\n            U->>-V: Click link or enter code\n            alt is user's first time\n                V->>+U: Show DOB/SSN4 input\n                U->>-V: Enter DOB/SSN4\n            end\n            V->>V: Pull verified user data\n            V->>+U: Display data\n            U->>-V: Consent to share data\n            V->>C: Redirect user to customer \n        end\n        note left of C: 3. Receive User Data\n        alt customer using push option\n            V->>+C: Call POST /verified/credentials with user data\n            C->>-V: (success)\n        else customer using pull option\n            C->>C: Parse sharedCredentialsUuid from URL param\n            C->>+V: Call GET /sharedCredentials with sharedCredentialsUuid\n            V->>-C: Return user data\n        end\n    end"}),"\n",(0,r.jsx)(n.h2,{id:"implement",children:"Implement"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.em,{children:[(0,r.jsxs)(n.strong,{children:["Try our ",(0,r.jsx)(n.a,{href:"/demo-1-click-signup",children:"1-Click Signup demos"})]})," to see example implementations. These are open source, so feel free to use the ",(0,r.jsx)(n.a,{href:"https://github.com/VerifiedInc/Kredita-Demo-Web",children:"source code"})," as a reference."]})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-steps-to-implement",children:"3 Steps to Implement"}),"\n",(0,r.jsx)(n.p,{children:"To implement 1-Click Signup, there are only 3 steps (and one is optional):"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"#call-1-click-endpoint",children:"Call 1-Click endpoint"})})}),"\n",(0,r.jsxs)(n.li,{children:["(optional) ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"#redirect-user",children:"Redirect user"})})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"#receive-user-data",children:"Receive user data"})})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["See the ",(0,r.jsx)(n.a,{href:"#sequence-diagram",children:"sequence diagram"})," above."]}),"\n",(0,r.jsx)(a.default,{}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"We also strongly recommend that you test using your own phone number."})," This will allow you to receive SMS messages, which are necessary to test the full 1-Click Signup flow (but won't work for the test user)."]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Phone Number Format"})}),(0,r.jsxs)(n.p,{children:["Make sure to use a 10-digit string, with the ",(0,r.jsx)(n.code,{children:"+1"})," country code at the beginning:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",metastring:'title="Phone"',children:"+10123456789\n"})}),(0,r.jsx)(n.p,{children:"Currently, only US phone numbers work with 1-Click Signup (and we're able to source verified data for 95% of these numbers)."})]}),(0,r.jsx)(n.p,{children:"Using your own phone number in sandbox, you'll receive dummy user data."})]}),"\n",(0,r.jsx)(n.h4,{id:"simplest-implementation",children:"Simplest Implementation"}),"\n",(0,r.jsx)(n.p,{children:"For the simplest implementation:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Call 1-Click endpoint with a ",(0,r.jsx)(n.a,{href:"#basic-request",children:"basic request"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.del,{children:"Redirect user"})," (skip optional step)"]}),"\n",(0,r.jsxs)(n.li,{children:["Receive user data using the ",(0,r.jsx)(n.a,{href:"#pull-option",children:"pull option"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"call-1-click-endpoint",children:"1. Call 1-Click Endpoint"}),"\n",(0,r.jsxs)(n.p,{children:["The 1-Click endpoint is ",(0,r.jsx)(n.a,{href:"/api-reference#1-click",children:(0,r.jsx)(n.code,{children:"POST /1-click"})}),". Call it with the user's phone number to start 1-Click Signup."]}),"\n",(0,r.jsx)(n.h4,{id:"sequence-diagram",children:"Sequence Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'activationBkgColor': '#e6f6e6',\n            'activationBorderColor': '#0dbc3d',\n            'labelBoxBkgColor': '#eef9fd',\n            'labelBoxBorderColor': '#164fd6',\n            'labelTextColor': '#193c47',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nsequenceDiagram\n    participant C as Customer\n    actor U as User\n    participant V as Verified Inc.\n    rect rgb(200,200,200,0.25)\n        note left of C: 1. Call 1-Click Endpoint\n        C->>+V: Call POST /1-click with phone number\n        V->>-C: Return URL\n    end"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#full-sequence-diagram",children:"\u2191 Full Sequence Diagram"})}),"\n",(0,r.jsx)(n.h4,{id:"basic-request",children:"Basic Request"}),"\n",(0,r.jsx)(n.p,{children:"Just include a phone number:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Request Body"',children:'{\n    "phone": "+10123456789"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"advanced-request",children:"Advanced Request"}),"\n",(0,r.jsxs)(n.p,{children:["You can also use ",(0,r.jsx)(n.code,{children:"/1-click"})," in more advanced ways:"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Optimize for Redirect"})}),(0,r.jsxs)(n.p,{children:["If you're going to ",(0,r.jsx)(n.a,{href:"#redirect-user",children:"redirect the user"})," to us (which is optional), you should add\n",(0,r.jsx)(n.code,{children:'"verificationOptions": "only_code"'})," to the request body:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Request Body"',children:'{\n    "phone": "+10123456789",\n    "verificationOptions": "only_code"\n}\n'})}),(0,r.jsx)(n.p,{children:"This makes the SMS we send the user contain a verification code rather than a link, which can cause confusion."}),(0,r.jsxs)(n.p,{children:["You can also use ",(0,r.jsx)(n.code,{children:'"verificationOptions": "both_link_and_code"'})," to make the SMS contain both a verification link and code. This gives the user the option of using either one."]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:'Change the Word After "1-Click"'})}),(0,r.jsx)(n.p,{children:'If "1-Click Signup" isn\'t the best phrase for your use case, you can change the last word to "Verify" or "Apply"" like this:'}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Request Body"',children:'{\n    "phone": "+10123456789",\n    "content": {\n        "title": "Verify"\n    }\n}\n'})}),(0,r.jsx)(n.p,{children:"If neither of these is ideal for you, reach out to us about what would be better, and we'll gladly consider adding more options."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Define a Redirect URL"})}),(0,r.jsxs)(n.p,{children:["When we create an API key for your brand \u2014\xa0email us at ",(0,r.jsx)(n.a,{href:"mailto:Support@Verified.Inc",children:"Support@Verified.Inc"}),' if you need one \u2014 we define a default redirect URL. This is where we will redirect the user after they consent (or decline) to share data with you. It\'s "global" to your brand in the sense that it applies to any 1-Click Signup flow you initiate.']}),(0,r.jsxs)(n.p,{children:['However, you can also define a redirect URL "on the fly" that applies only to the specific 1-Click Signup flow you just initiated. To do this, just include the optional ',(0,r.jsx)(n.code,{children:"redirectUrl"})," attribute:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Request Body"',children:'{\n    "phone": "+10123456789",\n    "redirectUrl": "https://example.com"\n}\n'})}),(0,r.jsx)(n.p,{children:"This overrides the default redirect URL for your brand."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Change Data Types Requested"})}),(0,r.jsx)(n.p,{children:"If you only need a subset of the verified user data we can return, you can limit the data types requested like this:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Request Body"',children:'{\n    "phone": "+10123456789",\n    "credentialRequests": [\n        "FullNameCredential",\n        "EmailCredential",\n        "PhoneCredential",\n        "AddressCredential"\n    ]\n}\n'})}),(0,r.jsx)(n.p,{children:"The default types are:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"FullNameCredential"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"EmailCredential"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"PhoneCredential"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"AddressCredential"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"BirthDateCredential"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"SsnCredential"})}),"\n"]}),(0,r.jsxs)(n.p,{children:["You can also request additional data types\xa0\u2014 ",(0,r.jsx)(n.code,{children:"EmployerNameCredential"}),", ",(0,r.jsx)(n.code,{children:"AnnualIncomeCredential"}),", and many more. See the full list of available types in our ",(0,r.jsx)(n.a,{href:"/schema#schema-library",children:"schema library"})]}),(0,r.jsxs)(o.Z,{type:"warning",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"We aren't always able to source data for types beyond the defaults listed above."})," If we aren't able to, we allow the user to input data in a simple form interface."]}),(0,r.jsx)(n.p,{children:"We're soon adding more data sources, so we'll be able to expand the default types over time."})]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Fully Customize Data Request"})}),(0,r.jsx)(n.p,{children:"You can fully customize the data request, controlling things like:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"whether user input is allowed"}),"\n",(0,r.jsx)(n.li,{children:"whether a given piece of data is required or optional"}),"\n",(0,r.jsx)(n.li,{children:"which issuers issued the verified data"}),"\n"]}),(0,r.jsxs)(n.p,{children:["We are happy to help you customize this. Just email us at ",(0,r.jsx)(n.a,{href:"mailto:Support@Verified.Inc",children:"Support@Verified.Inc"})," if you'd like help doing so."]}),(0,r.jsx)(n.p,{children:"Here's an example of a fully customized request:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Request Body"',children:'{\n    "phone": "+10123456789",\n    "credentialRequests": [\n        {\n            "type": "FullNameCredential",\n            "issuers": ["{{verifiedIncIssuerBrandUuid}}"],\n            "allowUserInput": true,\n            "mandatory": "if_available",\n            "description": "Your full legal name",\n            "children": [\n                {\n                    "type": "FirstNameCredential"\n                },\n                {\n                    "type": "LastNameCredential"\n                }\n            ]\n        },\n        {\n            "type": "EmailCredential",\n            "issuers": ["{{verifiedIncIssuerBrandUuid}}"],\n            "allowUserInput": true,\n            "mandatory": "if_available"\n        },\n        {\n            "type": "PhoneCredential",\n            "issuers": ["{{verifiedIncIssuerBrandUuid}}"],\n            "mandatory": "yes",\n            "description": "We only send important account updates, never spam"\n        },\n        {\n            "type": "AddressCredential",\n            "issuers": ["{{verifiedIncIssuerBrandUuid}}"],\n            "allowUserInput": true,\n            "mandatory": "if_available",\n            "children": [\n                {\n                    "type": "Line1Credential"\n                },\n                {\n                    "type": "Line2Credential",\n                    "mandatory": no\n                },\n                {\n                    "type": "CityCredential"\n                },\n                {\n                    "type": "StateCredential"\n                },\n                {\n                    "type": "CountryCredential"\n                },\n                {\n                    "type": "ZipCodeCredential"\n                }\n            ]\n        },\n    ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,r.jsx)(n.p,{children:"If 1-Click Signup is possible for the phone number included in the request body, the response body will contain a URL and a boolean indicating whether the phone number matches a user in our system."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="POST /1-click Response Body"',children:'{\n    "url": "https://wallet.verified.inc/request/9f2053fc-cc4c-41cb-8d14-7d3ccf6167eb",\n    "match": true\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["If 1-Click Signup is ",(0,r.jsx)(n.em,{children:"not"})," possible, the response body ",(0,r.jsx)(n.code,{children:"match"})," value will be ",(0,r.jsx)(n.code,{children:"false"})," or contain an error."]}),"\n",(0,r.jsxs)(n.p,{children:["If you are going to ",(0,r.jsx)(n.a,{href:"#redirect-user",children:"redirect the user"})," (which is optional), you should redirect them to this URL. If you aren't going to redirect them, you can ignore this URL."]}),"\n",(0,r.jsx)(n.h3,{id:"redirect-user",children:"2. (optional) Redirect User"}),"\n",(0,r.jsxs)(n.p,{children:["Optionally, you can redirect the user to the URL contained in the 1-Click endpoint ",(0,r.jsx)(n.a,{href:"#response",children:"response"}),". This is a link to our Wallet, where the user will review and consent to share their verified data."]}),"\n",(0,r.jsxs)(n.admonition,{title:"Redirecting the User Is Not Necessary",type:"note",children:[(0,r.jsx)(n.p,{children:"They will end up at our Wallet either way:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If you do ",(0,r.jsx)(n.em,{children:"not"})," redirect the user, they will click a verification link in the SMS that takes them to the Wallet."]}),"\n",(0,r.jsxs)(n.li,{children:["If you ",(0,r.jsx)(n.em,{children:"do"})," redirect the user, that will take them to the Wallet, where they will enter a verification code."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["See below for the ",(0,r.jsx)(n.a,{href:"#pros-and-cons",children:"pros and cons"})," of these two approaches."]})]}),"\n",(0,r.jsx)(n.h4,{id:"sequence-diagram-1",children:"Sequence Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'activationBkgColor': '#e6f6e6',\n            'activationBorderColor': '#0dbc3d',\n            'labelBoxBkgColor': '#eef9fd',\n            'labelBoxBorderColor': '#164fd6',\n            'labelTextColor': '#193c47',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nsequenceDiagram\n    participant C as Customer\n    actor U as User\n    participant V as Verified Inc.\n    rect rgb(200,200,200,0.25)\n        opt\n            note left of C: 2. (optional) Redirect User\n            C--\x3e>U: (optional) Redirect user to URL\n        end\n    end"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#full-sequence-diagram",children:"\u2191 Full Sequence Diagram"})}),"\n",(0,r.jsx)(n.h4,{id:"pros-and-cons",children:"Pros and Cons"}),"\n",(0,r.jsx)(n.p,{children:"There are pros and cons to redirecting the user:"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Pros"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"It allows the user to enter a verification code."})," This can usually be done without switching to the messages app because of autofill features in mobile operating systems. (Clicking a verification link in the SMS requires switching to the messages app.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"It allows you to keep the user in the same context."})," If they start in a particular browser, by redirecting you can ensure they stay in that browser. (If they click the link, the mobile operating system may open it in a different browser.) If they start in a mobile app, you can open a webview within that app so they aren't taken away from it. (We recommend a full page webview, so it feels like part of the app.)"]}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Cons"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"It's not ideal on non-mobile devices."})," That's because ultimately the user has to verify on their mobile device \u2014\xa0it's what allows us to pull verified data from the user's wireless phone provider. So if you redirect the user on a non-mobile device, our Wallet will display a QR code to direct them to their phone, which works but is not the best experience. Therefore, we recommend that if you redirect the user at all that you first check if they're on a mobile device and only do the redirect in that case."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"It's slightly more work to implement."})," The ",(0,r.jsx)(n.a,{href:"#simplest-implementation",children:"simplest implementation"})," is not redirecting the user."]}),"\n"]})]}),"\n",(0,r.jsx)(n.h3,{id:"receive-user-data",children:"3. Receive User Data"}),"\n",(0,r.jsxs)(n.p,{children:["After you ",(0,r.jsx)(n.a,{href:"#call-1-click-endpoint",children:"call the 1-Click endpoint"}),", you need to be set up to receive data the user consents to share with you."]}),"\n",(0,r.jsx)(n.p,{children:"There are two options for how to do this:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.a,{href:"#push-option",children:"Push Option"})," (recommended):"]})," We ",(0,r.jsx)(n.em,{children:"push"})," the data to you, by hitting an endpoint you provide."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"OR"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.a,{href:"#pull-option",children:"Pull Option"}),":"]})," You ",(0,r.jsx)(n.em,{children:"pull"})," the data from us, by hitting an endpoint we provide."]}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{title:"We Recommend the Push Option",type:"tip",children:[(0,r.jsx)(n.p,{children:"We recommend the push option because you are guaranteed to receive the data immediately, as soon as the user consents to share it. That results in 100% conversion."}),(0,r.jsx)(n.p,{children:"With the pull option, there's a time delay between when the user consents to share and when you are able to pull the data. That's because we have to redirect the user to you first. Conversion is generally somewhat less than 100% in this case."})]}),"\n",(0,r.jsx)(n.h4,{id:"sequence-diagram-2",children:"Sequence Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'activationBkgColor': '#e6f6e6',\n            'activationBorderColor': '#0dbc3d',\n            'labelBoxBkgColor': '#eef9fd',\n            'labelBoxBorderColor': '#164fd6',\n            'labelTextColor': '#193c47',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nsequenceDiagram\n    participant C as Customer\n    actor U as User\n    participant V as Verified Inc.\n    rect rgb(200,200,200,0.25)\n        note left of C: 3. Receive User Data\n        alt customer using push option\n            V->>+C: Call POST /verified/credentials with user data\n            C->>-V: (success)\n        else customer using pull option\n            C->>C: Parse sharedCredentialsUuid URL parameter value\n            C->>+V: Call GET /sharedCredentials with sharedCredentialsUuid\n            V->>-C: Return user data\n        end\n    end"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#full-sequence-diagram",children:"\u2191 Full Sequence Diagram"})}),"\n",(0,r.jsx)(n.h4,{id:"push-option",children:"Push Option (recommended)"}),"\n",(0,r.jsxs)(n.p,{children:["All you need to do is create a webhook called ",(0,r.jsx)(n.code,{children:"POST /verified/credentials"})," according to our ",(0,r.jsx)(n.a,{href:"https://gist.github.com/VerifiedIncMachine/ef399f6b5ce6545eb4d7ec3e85d87dd2",children:"OpenAPI spec"}),". This is where we will send verified user data when a user consents to share it."]}),"\n",(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'activationBkgColor': '#e6f6e6',\n            'activationBorderColor': '#0dbc3d',\n            'labelBoxBkgColor': '#eef9fd',\n            'labelBoxBorderColor': '#164fd6',\n            'labelTextColor': '#193c47',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nsequenceDiagram\n    participant C as Customer\n    actor U as User\n    participant V as Verified Inc.\n    rect rgb(200,200,200,0.25)\n        note left of C: 3. Receive User Data\n        alt customer using push option\n            V->>+C: Call POST /verified/credentials with user data\n            C->>-V: (success)\n        end\n    end"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#full-sequence-diagram",children:"\u2191 Full Sequence Diagram"})}),"\n",(0,r.jsx)(n.h4,{id:"pull-option",children:"Pull Option"}),"\n",(0,r.jsx)(n.p,{children:"Here's how this option works:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["We redirect to your ",(0,r.jsx)(n.code,{children:"redirectUrl"})," and include a URL parameter called ",(0,r.jsx)(n.code,{children:"1ClickUuid"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["You call our ",(0,r.jsx)(n.a,{href:"/api-reference#get-1-click-credentials",children:(0,r.jsx)(n.code,{children:"GET /1-click"})})," endpoint with the value of this parameter."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"sequence-diagram-3",children:"Sequence Diagram"}),"\n",(0,r.jsx)(n.mermaid,{value:"%%{\n    init: {\n        'theme': 'base',\n        'themeVariables': {\n            'primaryColor': '#e6f6e6',\n            'primaryTextColor': '#003100',\n            'primaryBorderColor': '#0dbc3d',\n            'secondaryColor': '#eef9fd',\n            'secondaryTextColor': '#193c47',\n            'secondaryBorderColor': '#164fd6',\n            'activationBkgColor': '#e6f6e6',\n            'activationBorderColor': '#0dbc3d',\n            'labelBoxBkgColor': '#eef9fd',\n            'labelBoxBorderColor': '#164fd6',\n            'labelTextColor': '#193c47',\n            'edgeLabelBackground': '#ffffff',\n            'textColor': '#000000',\n            'fontFamily': 'Lato'\n        }\n    }\n}%%\nsequenceDiagram\n    participant C as Customer\n    actor U as User\n    participant V as Verified Inc.\n    rect rgb(200,200,200,0.25)\n        note left of C: 3. Receive User Data\n        alt customer using pull option\n            C->>C: Parse sharedCredentialsUuid from URL param\n            C->>+V: Call GET /sharedCredentials with sharedCredentialsUuid\n            V->>-C: Return user data\n        end\n    end"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"#full-sequence-diagram",children:"\u2191 Full Sequence Diagram"})}),"\n",(0,r.jsx)(n.h4,{id:"response-1",children:"Response"}),"\n",(0,r.jsx)(n.p,{children:"The user data you'll receive is the same, regardless of whether you use the push or pull option."}),"\n",(0,r.jsxs)(n.admonition,{type:"tip",children:[(0,r.jsxs)(n.p,{children:["One particularly valuable piece of metadata is ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"verificationMethod"})}),", which describes how the credential (piece of user data) was verified. It can take the following values:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"phone_carrier"'}),": verified via phone carrier records"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"otp"'}),": verified via an OTP (one time passcode)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"self_attested"'}),": attested by the user themselves (not verified)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"null"})}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Definitions"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["An ",(0,r.jsx)(n.strong,{children:"identifier"})," is a phone number or email address the user uses to verify for 1-Click Signup.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"identifierType"})," is the type of identifier (",(0,r.jsx)(n.code,{children:"phone"})," or ",(0,r.jsx)(n.code,{children:"email"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.strong,{children:"credential"})," is a piece of data the user shares (e.g. birth date or SSN).","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["A ",(0,r.jsx)(n.strong,{children:"credential type"})," is a string indicating the type of a credential (e.g. ",(0,r.jsx)(n.code,{children:"SsnCredential"})," or ",(0,r.jsx)(n.code,{children:"FirstNameCredential"}),"). It's formatted in ",(0,r.jsx)(n.code,{children:"PascalCase"})," and always includes the word ",(0,r.jsx)(n.code,{children:"Credential"})," at the end."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"shortenedCredentialType"})," is the shortened credential type in ",(0,r.jsx)(n.code,{children:"camelCase"}),". The shortened credential type is just the type without the word ",(0,r.jsx)(n.code,{children:"Credential"})," (e.g. ",(0,r.jsx)(n.code,{children:"birthDate"})," or ",(0,r.jsx)(n.code,{children:"ssn"}),"). For subcredentials of a composite credential, it includes the shortened credential type of its parent credential(s) (e.g. ",(0,r.jsx)(n.code,{children:"fullName.firstName"}),")."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Accepted Values"}),(0,r.jsxs)(n.p,{children:["Currently, accepted values for ",(0,r.jsx)(n.code,{children:"shortenedCredentialType"})," are:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"email"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"fullName.firstName"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"fullName.middleName"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"fullName.lastName"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"birthDate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"address.line1"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"address.line2"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"address.city"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"address.state"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"address.zipCode"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"address.country"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"ssn"})}),"\n"]})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data"})," in this context means identity information about a user (e.g. their name, contact information, etc.)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Metadata"})," in this context means any additional data that's ",(0,r.jsx)(n.em,{children:"not"})," identity information about a user (e.g. the verification method for their identity information).","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"metadataType"})," is the type of metadata."]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Accepted Values"}),(0,r.jsxs)(n.p,{children:["Currently, possible values for ",(0,r.jsx)(n.code,{children:"metadataType"})," are:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"id"}),": unique identifier for a credential","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"UUID"}),"\n",(0,r.jsx)(n.li,{children:"Applies only to credentials"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"verificationMethod"}),": how an identifier or credential was verified","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["enum: ",(0,r.jsx)(n.code,{children:'"phone_carrier"'}),", ",(0,r.jsx)(n.code,{children:'"otp"'}),", ",(0,r.jsx)(n.code,{children:'"self_attested"'}),", or ",(0,r.jsx)(n.code,{children:"null"})]}),"\n",(0,r.jsx)(n.li,{children:"Applies to both identifiers and credentials"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"status"}),": status of a credential","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["enum: ",(0,r.jsx)(n.code,{children:'"valid"'})," or ",(0,r.jsx)(n.code,{children:'"revoked"'})]}),"\n",(0,r.jsx)(n.li,{children:"Applies only to credentials"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"issuerUuid"}),": brand that issued a credential","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"UUID"}),"\n",(0,r.jsx)(n.li,{children:"Applies only to credentials"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"issuanceDate"}),": date a credential was issued","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Unix timestamp"}),"\n",(0,r.jsx)(n.li,{children:"Applies only to credentials"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"expirationDate"}),": date a credential expires","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Unix timestamp"}),"\n",(0,r.jsx)(n.li,{children:"Applies only to credentials"}),"\n"]}),"\n"]}),"\n"]})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="Data the User Shared"',children:'{\n    "identifiers": {\n        "phone": "+101234567890"\n    },\n    "credentials": {\n        "email": "richard@piedpiper.net",\n        "fullName": {\n            "firstName": "Richard",\n            "lastName": "Hendricks"\n        },\n        "birthDate": "08/01/1989",\n        "address": {\n            "line1": "5320 Newell Rd",\n            "city": "Palo Alto",\n            "state": "CA",\n            "zip": "94303",\n            "country": "US"\n        },\n        "ssn": "123456789"\n    },\n    "metadata": {\n        "identifiers": {\n            "verificationMethod": {\n                "phone": "phone_carrier"\n            }\n        },\n        "credentials": {\n            "id": {\n                "email": "8a1d4e35-413d-496b-b499-8810b55cfb5c",\n                "fullName": {\n                    "firstName": "2e6a7b9a-e93e-43ba-98a9-c554f4e16457",\n                    "lastName": "9a5817ef-e621-4277-8c48-c8ee3776b6c4"\n                },\n                "birthDate": "ec1ef0ce-eeed-46a4-94a9-29b46e64403d",\n                "address": {\n                    "line1": "f5a4dc93-bc06-4bb8-bd05-17b5ba912bcd",\n                    "city": "efd3820f-676a-4db1-b63e-695b66ed8ba0",\n                    "state": "b65022a2-2016-41df-88f3-252e8e3a29c5",\n                    "zip": "b747ff84-39d8-4df9-98f9-24a465f1a9ae",\n                    "country": "d57a7bca-2a7c-4671-86ad-5647731cad02"\n                },\n                "ssn": "ec1ef0ce-eeed-46a4-94a9-29b46e64403d"\n            },\n            "verificationMethod": {\n                "email": "phone_carrier",\n                "fullName": {\n                    "firstName": "phone_carrier",\n                    "lastName": "phone_carrier"\n                },\n                "birthDate": "phone_carrier",\n                "address": {\n                    "line1": "phone_carrier",\n                    "city": "phone_carrier",\n                    "state": "phone_carrier",\n                    "zip": "phone_carrier",\n                    "country": "phone_carrier"\n                },\n                "ssn": "phone_carrier"\n            },\n            "status": {\n                "email": "valid",\n                "fullName": {\n                    "firstName": "valid",\n                    "lastName": "valid"\n                },\n                "birthDate": "valid",\n                "address": {\n                    "line1": "valid",\n                    "city": "valid",\n                    "state": "valid",\n                    "zip": "valid",\n                    "country": "valid"\n                },\n                "ssn": "valid"\n            },\n            "issuerUuid": {\n                "email": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                "fullName": {\n                    "firstName": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                    "lastName": "c3be0124-8f03-4983-baef-3302e0be88f4"\n                },\n                "birthDate": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                "address": {\n                    "line1": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                    "city": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                    "state": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                    "zip": "c3be0124-8f03-4983-baef-3302e0be88f4",\n                    "country": "c3be0124-8f03-4983-baef-3302e0be88f4"\n                },\n                "ssn": "c3be0124-8f03-4983-baef-3302e0be88f4"\n            },\n            "issuanceDate": {\n                "email": "1671847264479",\n                "fullName": {\n                    "firstName": "1671847264479",\n                    "lastName": "1671847264479"\n                },\n                "birthDate": "1671847264479",\n                "address": {\n                    "line1": "1671847264479",\n                    "city": "1671847264479",\n                    "state": "1671847264479",\n                    "zip": "1671847264479",\n                    "country": "1671847264479"\n                },\n                "ssn": "1671847264479"\n            },\n            "expirationDate": {\n                "email": "1871839024044",\n                "fullName": {\n                    "firstName": "1871839024044",\n                    "lastName": "1871839024044"\n                },\n                "birthDate": "1871839024044",\n                "address": {\n                    "line1": "1871839024044",\n                    "city": "1871839024044",\n                    "state": "1871839024044",\n                    "zip": "1871839024044",\n                    "country": "1871839024044"\n                },\n                "ssn": "1871839024044"\n            }\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"non-hosted-flow",children:"Non-Hosted Flow"}),"\n",(0,r.jsxs)(n.p,{children:["Status: ",(0,r.jsx)(n.em,{children:"Beta"})]}),"\n",(0,r.jsx)(n.p,{children:'The 1-Click Signup experience mentioned above outlines our "hosted" 1-Click Signup flow, where the user interacts with our Wallet. We also offer a non-hosted or "headless" 1-Click Signup flow, which allows for a more white-label integration where the user will never have to leave your signup flow. You will receive the data as soon the user clicks the verification link in the SMS or enters the verification code via your UI (and a headless redirect is initiated to us, more on that below).'}),"\n",(0,r.jsx)(n.p,{children:"This method requires additional work; mainly, you will have to build a UI for the user to interact with. However, often, this is just augmenting your existing signup forms. While the rest is very similar to the hosted flow, there are a few differences:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsxs)(n.strong,{children:["Call ",(0,r.jsx)(n.code,{children:"/1-click"})," with two additional request attributes: ",(0,r.jsx)(n.code,{children:"isHosted"})," and ",(0,r.jsx)(n.code,{children:"birthDate."})]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",metastring:'title="POST /1-click Request Body (Non-Hosted Additional Attributes)"',children:'isHosted: false,\nbirthDate: "YYYY-MM-DD",\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"birthDate"})," value often must come from signup forms. We recommend collecting this alongside their phone number."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["Regardless of your method of receiving the data (",(0,r.jsx)(n.a,{href:"#push-option",children:"push"})," or ",(0,r.jsx)(n.a,{href:"#pull-option",children:"pull"}),"), the data provided ought to be prefilled in your existing signup forms."]})," This is to allow the user to edit any fields that may have been incorrect or add any additional information that may be required. It is necessary to allow the user to edit the data for correctness. Also, the response body may contain multiple credentials of the same type (e.g., addresses), and you will need to handle this in your UI. The simplest solution is to provide the most recently issued credential field and have them edit it if necessary."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["If using ",(0,r.jsx)(n.code,{children:"verificationOptions"})," containing a code, you will need to build the input for the user to submit the OTP code sent to them via SMS."]})," Verified Inc. is still sending the SMS on your behalf. This only needs to be handled if you are using ",(0,r.jsx)(n.code,{children:"verificationOptions"})," set to ",(0,r.jsx)(n.code,{children:"only_code"})," or ",(0,r.jsx)(n.code,{children:"both_link_and_code"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Upon collecting the verification code from the user, you must redirect the user to the ",(0,r.jsx)(n.code,{children:"/1-click"})," response body's ",(0,r.jsx)(n.code,{children:"url"})," with the user-provided verification code as a query parameter. Below is an example response body:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="Example URL Response Body"',children:'{\n    "url": "https://wallet.verified.inc/authentication/verify/generic?phone=%2B101234566789&phoneCarrier=true&requestId=242189ee-c120-4f62-af85-a0a19423ffc0&issuePhoneCarrierCredentials=false&isHosted=false",\n    "match": true\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"The resultant URL that you need to redirect to would look like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:'title="Redirect URL Post User Inputted OTP Code"',children:"https://wallet.verified.inc/authentication/verify/generic?code=123456&phone=%2B10123456789&phoneCarrier=true&requestId=242189ee-c120-4f62-af85-a0a19423ffc0&issuePhoneCarrierCredentials=false&isHosted=false\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This redirect will ultimately land the user back on your defined ",(0,r.jsx)(n.code,{children:"redirectUrl"})," with no user interaction appearing as if only a page refresh has occurred."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsxs)(n.strong,{children:["If using ",(0,r.jsx)(n.code,{children:"verificationOptions"})," ",(0,r.jsx)(n.code,{children:"only_link"})," then the ",(0,r.jsx)(n.code,{children:"/1-click"})," response body will not contain a ",(0,r.jsx)(n.code,{children:"url"})," even if ",(0,r.jsx)(n.code,{children:"match"})," is ",(0,r.jsx)(n.code,{children:"true"}),"."]})," This is because there is no need to redirect the user. Thanks to the verification link sent via SMS already containing the code, there is no need for a redirect. Upon clicking the link, we will redirect the user to your defined ",(0,r.jsx)(n.code,{children:"redirectUrl"})," upon phone verification and credential creation happening in a headless manner."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If interested in this mode of integration please let us know and we will enable it for your API key. Please note, that we will have to validate your integration in Sandbox prior to sharing Production access to this feature."})]})}function x(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}},9474:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>d});var r=i(5893),s=i(1151);const t={},l=void 0,a={id:"reusables/sandbox-testing-credentials",title:"sandbox-testing-credentials",description:"To test in our sandbox environment, you can use our test brand and user:",source:"@site/docs/reusables/sandbox-testing-credentials.mdx",sourceDirName:"reusables",slug:"/reusables/sandbox-testing-credentials",permalink:"/reusables/sandbox-testing-credentials",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{}},o={},d=[];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",p:"p",pre:"pre",strong:"strong",...(0,s.a)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(n.admonition,{title:"Sandbox Testing",type:"tip",children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"To test in our sandbox environment, you can use our test brand and user"}),":"]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Test Brand API Credentials"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",metastring:'title="Sandbox API Key"',children:"yVg3LEnF08y0MDmpHcPxB+sZWFcDARmPRKdY2M906ng=\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",metastring:'title="Sandbox URL"',children:"https://core-api.sandbox-verifiedinc.com\n"})})]}),(0,r.jsxs)(n.p,{children:["To get an API key for your own brand, email us at ",(0,r.jsx)(n.a,{href:"mailto:Support@Verified.Inc",children:"Support@Verified.Inc"}),"."]}),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)("b",{children:"Test User Login Credentials"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",metastring:'title="Phone"',children:"+10123456789\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",metastring:'title="Email"',children:"richard@piedpiper.net\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",metastring:'title="Verification Code"',children:"111111\n"})})]}),(0,r.jsxs)(n.p,{children:["These are Hooli and Richard Hendricks \u2014 yes, the ones from ",(0,r.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Silicon_Valley_(TV_series)",children:(0,r.jsx)(n.em,{children:"Silicon Valley"})}),"! \ud83d\ude02"]})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);