---
id: mobile-webwallet-sdk-android
title: Mobile WebWallet SDK - Android
sidebar_label: Android WebWallet
slug: /mobile-webwallet-sdk-android
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import TooltipWithDefaults from '../src/components/TooltipWithDefaults';
import Tip from '../src/components/Tip';

*Docs for the iOS WebWallet SDK are [here](mobile-webwallet-sdk-ios).*

This is a lightweight, fully native SDK that allows a host app to perform web wallet authentication functionality in a chrome browser. It works with both Kotlin and Java native apps.

:::note
An example project using this SDK can be found [here](https://github.com/UnumID/UnumIdWebAuth-Android/). This serves as a useful technical reference.
:::

## Overview

### Minimum Requirements
- **Android 6.0 (Marshmallow) and above**

### Installation

In the app level build.gradle add the following maven repository:

```groovy

android {
    repositories {
        maven {
            name = "GitHubPackages"
            url = uri("https://maven.pkg.github.com/UnumID/UnumIDWebWallet-android")
        }
    }

   ......
```

In the app level build.gradle add the reference to the SDK

```groovy
implementation "id.unum:webwallet-android:(insert latest version)"
```

For the most current version, visit [here](https://github.com/UnumID/UnumIDWebWallet-android/packages/1603052)

### Performing User DID Association

More details on the <Tip type="DID"/> (`did`) association process can be found [here](https://docs.unumid.co/quick-start-guide#associate-users-with-dids).

When a host application would like to perform the credential share flow for the current user, they can do so by calling the `performVerification` method. This will initiate the following flow:
 - Allow the user to register or log into the UnumID Wallet.
 - Check to see if the user already has the required credentials.
 - If the required credentials are found, they will be shared.
 - If the required credentials are not found, then the user will be taken through the hyperverge verification flow.
 - Newly created credentials are added to the user's UnumId Wallet and shared.

``` kotlin
/**
 * Method for performing verification for the current user.
 * @param appId: The hyperverge appId.
 * @param appKey: The hyperverge appKey.
 * @param workflowId: The hyperverge workflowId.
 * @param transformationId: The hyperverge transformationId.
 * @param context: Context A provided context to launch the chrome activity.
 * @param customScheme: The customScheme to be used for the callback flow.
 */
WebWallet.performVerification(appId, appKey, workflowId, transformationId, context, customScheme)
```
### Deep Links

Deep links will be used by the SDK to provide a callback from the UnumID Wallet. Deep links will need to be registered in the host application. The custom scheme specified in the manifest file will also need to be passed to the `performVerification` method call.


```xml
<activity android:name=".MainActivity">
    <intent-filter>
        <action android:name="android.intent.action.VIEW" />

        <category android:name="android.intent.category.DEFAULT" />
        <category android:name="android.intent.category.BROWSABLE" />

        <data
            android:host="auth"
            android:scheme="{yourScheme}" />
    </intent-filter>
</activity>
```

Finally, any received deep links will need to be passed back to the WebWallet SDK. In the `onCreate` method of the activity receiving the deep link add the following code:

```kotlin
val intent = intent
val data = intent.data
if (data != null) {
    if (data.toString().contains("://auth") == true) {
        handleAuthResponse(data, this)
    }
}
```


### Opening a web wallet web auth window

If the host app already has the full url required for loading the Unum ID wallet in the browser, the url can be passed to the WebWallet SDK to open a chrome browser window to that URL.  An optional value of a color hex string can also be passed to help match the color of title bar with the app theme.

``` kotlin
/**
 * Method for launching a provided url in a chrome custom tab.
 * @param url:String The url to be launched.
 * @param context: Context A provided context to launch the chrome activity.
 * @param toolBarColor: String An optional value to set the color of the chrome tool bar. This should be in hex form "#202020".
 */
WebWallet.launch(url, context, toolBarColor)
```
